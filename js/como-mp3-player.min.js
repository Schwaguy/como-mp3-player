!function(e){var a=!!document.createElement("audio").canPlayType;e(".playerWrap").each(function(){var t=e(".playerWrap").attr("id"),i="#"+t,n=(e(i).data("songs"),albums[t]);if(a){var l=0,d=!1,s=e(location).attr("protocol")+"//"+e(location).attr("host")+"/wp-content/uploads/",o=(e.each(n,function(a,t){var n=t.track,l=t.name.replace(/'/g,"\\'"),d=t.length,s=t.file,o=t.album.replace(/'/g,"\\'"),u=t.subtitle.replace(/'/g,"\\'"),r=t.cover,p=t.type,c=t.band.replace(/'/g,"\\'");n=1===n.toString().length?"0"+n:""+n;var f=t.player,v=o.toLowerCase().replace(/\s/g,"-")+"-"+n;v=v.replace(/[^a-z0-9\s]/gi,"").replace(/'/g,"\\'").replace(/[_\s]/g,"-"),e(i+" #plList").append('<li data-album="'+f+'" id="'+v+'"><div class="plItem" data-track="'+n+'" data-name="'+l+'" data-file="'+s+'" data-length="'+d+'" data-album-title="'+o+'" data-subtitle="'+u+'" data-cover="'+r+'"><div class="plNum">'+n+'.</div><div class="plTitle"><span class="title">'+("single"!==p?c.replace(/\\/g,"")+" - ":"")+" "+l.replace(/\\/g,"")+'</span></div><div class="plLength">'+d+"</div></div></li>");var m=e(document).find("#"+v).width(),h=e(document).find("#"+v).find(".title").width(),b=e(document).find("#"+v).find(".plLength").width();h>(m-=b)-b&&e(document).find("#"+v).find(".plItem").addClass("long-scroll")}),n.length),u=e(i).find(".npAction"),r=e(i).find(".npTitle"),p=e(i).find(".npTime"),c=e(i).find(".npCover"),f=e(i).find("audio").bind("play",function(){d=!0,u.text("Now Playing...")}).bind("pause",function(){d=!1,u.text("Paused...")}).bind("ended",function(){u.text("Paused..."),l+1<o?(v(++l),f.play()):(f.pause(),v(l=0))}).get(0),v=(e(i+" .btnPrev").click(function(){l-1>-1?(v(--l),d&&f.play()):(f.pause(),v(l=0))}),e(i+" .btnNext").click(function(){l+1<o?(v(++l),d&&f.play()):(f.pause(),v(l=0))}),e(i+" .btnPause").click(function(){f.pause(),e(i+" .btnPlay").removeClass("hide"),e(i+" .btnPause").addClass("hide")}),e(i+" .btnPlay").click(function(){f.play(),e(i+" .btnPlay").addClass("hide"),e(i+" .btnPause").removeClass("hide")}),e(i+" .btnMute").click(function(){e(i+" .audio1").prop("muted")?(e(i+" .audio1").prop("muted",!1),e(i+" .btnMute .fa-volume-off").addClass("hide"),e(i+" .btnMute .fa-volume-up").removeClass("hide")):(e(i+" .audio1").prop("muted",!0),e(i+" .btnMute .fa-volume-up").addClass("hide"),e(i+" .btnMute .fa-volume-off").removeClass("hide"))}),e(i+" .volume-bar").change(function(a){var t=e(i).find(".audio1"),n=parseInt(a.target.value)/10;e(t).prop("muted",!1),e(i+" .btnMute .fa-volume-off").addClass("hide"),e(i+" .btnMute .fa-volume-up").removeClass("hide"),e(i+" .audio1").prop("volume",n)}),e(i+" .plList li").click(function(){var a=parseInt(e(this).index());a!==l&&m(a)}),function(a){e(i+" .plSel").removeClass("plSel"),e(i+" .plList li:eq("+a+")").addClass("plSel"),r.text(n[a].name),p.text(n[a].length),l=a,f.src=s+n[a].file+"",c.attr("src",n[a].cover),f.addEventListener("timeupdate",function(){var a=f.currentTime,t=f.duration;e(".hp_range").stop(!0,!0).animate({width:(a+.25)/t*100+"%"},250,"linear");var i,n,t=parseInt(f.duration),a=parseInt(f.currentTime),l=t-a;i=(i=l%60)<10?"0"+i:i,n=(n=Math.floor(l/60)%60)<10?"0"+n:n,p.html(n+":"+i)}),e(i+" .hp_slide").on("click",function(a){var t=e(this),i=f.duration,n=t.width(),l=a.offsetX/parseInt(n)*i;f.currentTime=l})}),m=function(a){v(a),e(i+" .btnPlay").addClass("hide"),e(i+" .btnPause").removeClass("hide"),f.play()};v(l)}})}(jQuery);